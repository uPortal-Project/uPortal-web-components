<!DOCTYPE html>
<html lang="fr-FR">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>Test : <%= htmlWebpackPlugin.options.title %></title>
    <style lang="scss"></style>
  </head>
  <body>
    <%= htmlWebpackPlugin.options.header %>
    <h2><%= htmlWebpackPlugin.options.title %></h2>
    <div class="parameters">
      <h3>Parameters</h3>
      <dl>
        <dt>categories</dt>
        <dd></dd>
      </dl>
      <dl>
        <dt>filter-Category</dt>
        <dd></dd>
      </dl>
      <h3>Events</h3>
      <dl>
        <dt>esco-cm-grid-filter (global)</dt>
        <dd id="gfEvt">Not emit</dd>
      </dl>
      <dl>
        <dt>esco-cm-request-categories (global)</dt>
        <dd id="reqCatEvt">Not emit</dd>
      </dl>
      <dl>
        <dt>esco-cm-categories (global)</dt>
        <dd id="catEvt">Not emit</dd>
      </dl>
    </div>
    <hr />
    <div>
      <esco-content-grid-filter></esco-content-grid-filter>
      <esco-content-grid
        messages='[{"locales": ["fr", "fr-FR"], "messages": { "message": {"filter": {
          "selectOption": "Ensemble des catÃ©gories" } ,"favorites": {
            "add": "Add me to your favorites!" } }}}]'
        portal-base-url="localhost:3000"
        parent-screen-size="1600"
        portlet-card-size="auto"
        favorite-api-url="/layout"
        layout-api-url="/layout"
        user-info-api-url="/userinfo"
        portlet-api-url="/portletRegistry"
        debug
      >
      </esco-content-grid>
    </div>
    <script defer>
      window.addEventListener('esco-cm-grid-filter', (e) => {
        const date = new Date().toLocaleTimeString();
        document.querySelector(
          '#gfEvt'
        ).textContent = `Last emit : ${date} | category : ${e.detail.category} | value : ${e.detail.value}`;
      });
      window.addEventListener('esco-cm-request-categories', (e) => {
        const date = new Date().toLocaleTimeString();
        document.querySelector(
          '#reqCatEvt'
        ).textContent = `Last emit : ${date}`;
      });
      window.addEventListener('esco-cm-categories', (e) => {
        const date = new Date().toLocaleTimeString();
        document.querySelector(
          '#catEvt'
        ).textContent = `Last emit : ${date} | categories : ${
          e.detail.categories.toString() ?? ''
        }`;
      });
    </script>
  </body>
</html>
